<template>
  <div class="docs-container">
    <div class="docs-header">
      <h1>EsForm è¡¨å•ç»„ä»¶</h1>
      <p class="component-desc">ä¼ä¸šçº§è¡¨å•è§£å†³æ–¹æ¡ˆï¼Œé€šè¿‡ JSON é…ç½®å³å¯ç”Ÿæˆå¤æ‚è¡¨å•ï¼Œæ”¯æŒ 20+ ç§è¡¨å•æ§ä»¶ã€æ¡ä»¶æ¸²æŸ“ã€åŠ¨æ€è§„åˆ™ã€è‡ªå®šä¹‰æ¸²æŸ“ç­‰ç‰¹æ€§ï¼Œè®©è¡¨å•å¼€å‘ä»å°æ—¶çº§é™è‡³åˆ†é’Ÿçº§</p>
      <div class="global-actions">
        <el-button size="small" @click="expandAll">
          <i class="el-icon-arrow-down"></i> å…¨éƒ¨å±•å¼€
        </el-button>
        <el-button size="small" @click="collapseAll">
          <i class="el-icon-arrow-up"></i> å…¨éƒ¨æ”¶èµ·
        </el-button>
      </div>
    </div>

    <h2>å¿«é€Ÿå¼€å§‹</h2>
    <p>æœ€ç®€å•çš„è¡¨å•ï¼Œåªéœ€é…ç½®å­—æ®µåˆ—è¡¨å’Œæ•°æ®æ¨¡å‹ï¼š</p>

    <div class="demo-block">
      <div class="demo-block__header">
        <span class="demo-block__title">åŸºç¡€è¡¨å•</span>
      </div>
      <div class="demo-block__body">
        <es-form
          :form-item-list="basicFormConfig"
          :model="basicFormData"
        />
      </div>
      <div class="demo-block__code" :class="{ 'is-collapsed': !codeExpanded.scene1 }">
        <div class="code-header" @click="toggleCode('scene1')">
          <i :class="codeExpanded.scene1 ? 'el-icon-arrow-down' : 'el-icon-arrow-right'"></i>
          <span>{{ codeExpanded.scene1 ? 'æ”¶èµ·ä»£ç ' : 'å±•å¼€ä»£ç ' }}</span>
        </div>
        <pre v-show="codeExpanded.scene1"><code>{{ basicExample }}</code></pre>
      </div>
    </div>

    <h2>æ ¸å¿ƒç‰¹æ€§è¯¦è§£</h2>

    <h3>1. è¡¨å•æ§ä»¶ç±»å‹</h3>
    <p>EsForm å†…ç½® 20+ ç§æ§ä»¶ç±»å‹ï¼Œé€šè¿‡ <code>formtype</code> é…ç½®å³å¯åˆ‡æ¢ï¼š</p>

    <div class="demo-block">
      <div class="demo-block__header">
        <span class="demo-block__title">å¸¸ç”¨æ§ä»¶å±•ç¤º</span>
      </div>
      <div class="demo-block__body">
        <es-form
          :form-item-list="controlsFormConfig"
          :model="controlsFormData"
          :layout-form-props="controlsLayoutProps"
        />
      </div>
      <div class="demo-block__code" :class="{ 'is-collapsed': !codeExpanded.scene2 }">
        <div class="code-header" @click="toggleCode('scene2')">
          <i :class="codeExpanded.scene2 ? 'el-icon-arrow-down' : 'el-icon-arrow-right'"></i>
          <span>{{ codeExpanded.scene2 ? 'æ”¶èµ·ä»£ç ' : 'å±•å¼€ä»£ç ' }}</span>
        </div>
        <pre v-show="codeExpanded.scene2"><code>{{ controlsExample }}</code></pre>
      </div>
    </div>

    <h3>2. è¡¨å•å¸ƒå±€ç³»ç»Ÿ</h3>
    <p>é€šè¿‡ <code>layoutFormProps</code> å®ç°çµæ´»çš„å“åº”å¼å¸ƒå±€ï¼š</p>

    <div class="demo-block">
      <div class="demo-block__header">
        <span class="demo-block__title">æ …æ ¼å¸ƒå±€ä¸æŠ˜å </span>
        <span class="demo-block__badge">å®æˆ˜æŠ€å·§</span>
      </div>
      <div class="demo-block__body">
        <es-form
          :form-item-list="layoutFormConfig"
          :model="layoutFormData"
          :layout-form-props="layoutProps"
        />
      </div>
      <div class="demo-block__code" :class="{ 'is-collapsed': !codeExpanded.scene3 }">
        <div class="code-header" @click="toggleCode('scene3')">
          <i :class="codeExpanded.scene3 ? 'el-icon-arrow-down' : 'el-icon-arrow-right'"></i>
          <span>{{ codeExpanded.scene3 ? 'æ”¶èµ·ä»£ç ' : 'å±•å¼€ä»£ç ' }}</span>
        </div>
        <pre v-show="codeExpanded.scene3"><code>{{ layoutExample }}</code></pre>
      </div>
    </div>

    <div class="tips-box tips-box--success">
      <h4>ğŸ’¡ å¸ƒå±€æœ€ä½³å®è·µ</h4>
      <ul>
        <li><code>span</code>ï¼šæ¯ä¸ªè¡¨å•é¡¹å æ®çš„æ …æ ¼æ•°ï¼ˆ1-24ï¼‰ï¼Œå»ºè®® 8ï¼ˆ1/3è¡Œï¼‰ã€6ï¼ˆ1/4è¡Œï¼‰ã€12ï¼ˆåŠè¡Œï¼‰</li>
        <li><code>minfoldRows</code>ï¼šè¶…è¿‡æŒ‡å®šè¡Œæ•°è‡ªåŠ¨æŠ˜å ï¼Œé…åˆ gutter æ§åˆ¶é—´è·</li>
        <li><code>labelWidth</code>ï¼šç»Ÿä¸€å®šä¹‰æ ‡ç­¾å®½åº¦ï¼Œæˆ–åœ¨ <code>formItemOptions</code> ä¸­å•ç‹¬è®¾ç½®</li>
        <li><code>isBtnHiden</code>ï¼šéšè—é»˜è®¤çš„æŸ¥è¯¢/é‡ç½®æŒ‰é’®ï¼Œé€‚ç”¨äºå¼¹çª—å†…è¡¨å•</li>
      </ul>
    </div>

    <h3>3. éªŒè¯è§„åˆ™ä¸è¡¨å•æ ¡éªŒ</h3>
    <p>æ”¯æŒ Element UI çš„æ‰€æœ‰éªŒè¯è§„åˆ™ï¼Œæ”¯æŒåŠ¨æ€è§„åˆ™ï¼š</p>

    <div class="demo-block">
      <div class="demo-block__header">
        <span class="demo-block__title">è¡¨å•éªŒè¯</span>
      </div>
      <div class="demo-block__body">
        <es-form
          ref="validateForm"
          :form-item-list="validateFormConfig"
          :model="validateFormData"
          :config-btn="validateConfigBtn"
        />
      </div>
      <div class="demo-block__code" :class="{ 'is-collapsed': !codeExpanded.scene4 }">
        <div class="code-header" @click="toggleCode('scene4')">
          <i :class="codeExpanded.scene4 ? 'el-icon-arrow-down' : 'el-icon-arrow-right'"></i>
          <span>{{ codeExpanded.scene4 ? 'æ”¶èµ·ä»£ç ' : 'å±•å¼€ä»£ç ' }}</span>
        </div>
        <pre v-show="codeExpanded.scene4"><code>{{ validationExample }}</code></pre>
      </div>
    </div>

    <h3>4. æ¡ä»¶æ¸²æŸ“ä¸è”åŠ¨</h3>
    <p>é€šè¿‡ <code>isHiden</code> å‡½æ•°å®ç°å­—æ®µçš„æ¡ä»¶æ˜¾ç¤ºï¼š</p>

    <div class="demo-block">
      <div class="demo-block__header">
        <span class="demo-block__title">åŠ¨æ€å­—æ®µæ˜¾ç¤º</span>
        <span class="demo-block__badge">é«˜é¢‘ä½¿ç”¨</span>
      </div>
      <div class="demo-block__body">
        <es-form
          :form-item-list="dynamicFormConfig"
          :model="dynamicFormData"
        />
      </div>
      <div class="demo-block__code" :class="{ 'is-collapsed': !codeExpanded.scene5 }">
        <div class="code-header" @click="toggleCode('scene5')">
          <i :class="codeExpanded.scene5 ? 'el-icon-arrow-down' : 'el-icon-arrow-right'"></i>
          <span>{{ codeExpanded.scene5 ? 'æ”¶èµ·ä»£ç ' : 'å±•å¼€ä»£ç ' }}</span>
        </div>
        <pre v-show="codeExpanded.scene5"><code>{{ dynamicFieldExample }}</code></pre>
      </div>
    </div>

    <h3>5. è‡ªå®šä¹‰ Render æ¸²æŸ“</h3>
    <p>å½“å†…ç½®æ§ä»¶æ— æ³•æ»¡è¶³éœ€æ±‚æ—¶ï¼Œä½¿ç”¨ <code>render</code> å‡½æ•°è‡ªå®šä¹‰ï¼š</p>

    <div class="demo-block">
      <div class="demo-block__header">
        <span class="demo-block__title">è‡ªå®šä¹‰æ¸²æŸ“</span>
      </div>
      <div class="demo-block__body">
        <es-form
          :form-item-list="customRenderConfig"
          :model="customRenderData"
        />
      </div>
      <div class="demo-block__code" :class="{ 'is-collapsed': !codeExpanded.scene6 }">
        <div class="code-header" @click="toggleCode('scene6')">
          <i :class="codeExpanded.scene6 ? 'el-icon-arrow-down' : 'el-icon-arrow-right'"></i>
          <span>{{ codeExpanded.scene6 ? 'æ”¶èµ·ä»£ç ' : 'å±•å¼€ä»£ç ' }}</span>
        </div>
        <pre v-show="codeExpanded.scene6"><code>{{ customRenderExample }}</code></pre>
      </div>
    </div>

    <div class="tips-box tips-box--warning">
      <h4>âš ï¸ Render å‡½æ•°å‚æ•°è¯´æ˜</h4>
      <p>å‚æ•°é¡ºåºä¸ºï¼š<code>(h, model, row) => VNode</code></p>
      <ul>
        <li><code>h</code> - createElement å‡½æ•°</li>
        <li><code>model</code> - è¡¨å•æ•°æ®å¯¹è±¡</li>
        <li><code>row</code> - å½“å‰è¡¨å•é¡¹é…ç½®</li>
      </ul>
    </div>

    <h3>6. åŠ¨æ€è§„åˆ™æ§åˆ¶</h3>
    <p>æ ¹æ®å…¶ä»–å­—æ®µå€¼åŠ¨æ€æ§åˆ¶éªŒè¯è§„åˆ™ï¼š</p>

    <div class="demo-block">
      <div class="demo-block__header">
        <span class="demo-block__title">åŠ¨æ€éªŒè¯è§„åˆ™</span>
        <span class="demo-block__badge">è¿›é˜¶æŠ€å·§</span>
      </div>
      <div class="demo-block__body">
        <es-form
          :key="dynamicRuleKey"
          :form-item-list="dynamicRuleConfig"
          :model="dynamicRuleData"
        />
      </div>
      <div class="demo-block__code" :class="{ 'is-collapsed': !codeExpanded.scene7 }">
        <div class="code-header" @click="toggleCode('scene7')">
          <i :class="codeExpanded.scene7 ? 'el-icon-arrow-down' : 'el-icon-arrow-right'"></i>
          <span>{{ codeExpanded.scene7 ? 'æ”¶èµ·ä»£ç ' : 'å±•å¼€ä»£ç ' }}</span>
        </div>
        <pre v-show="codeExpanded.scene7"><code>{{ dynamicRuleExample }}</code></pre>
      </div>
    </div>

    <h2>å®æˆ˜åœºæ™¯ç¤ºä¾‹</h2>

    <h3>åœºæ™¯ä¸€ï¼šå¤æ‚æ”¿ç­–è¡¨å•ï¼ˆç”Ÿäº§çº§å®æˆ˜ï¼‰</h3>
    <div class="demo-block demo-block--full">
      <div class="demo-block__header">
        <span class="demo-block__title">æ”¿ç­–ç¼–è¾‘è¡¨å•</span>
        <span class="demo-block__badge">ä¼ä¸šçº§</span>
      </div>
      <div class="demo-block__body">
        <es-form
          ref="policyForm"
          :form-item-list="policyFormConfig"
          :model="policyFormData"
          :layout-form-props="policyLayoutProps"
        />
      </div>
      <div class="demo-block__code" :class="{ 'is-collapsed': !codeExpanded.scene8 }">
        <div class="code-header" @click="toggleCode('scene8')">
          <i :class="codeExpanded.scene8 ? 'el-icon-arrow-down' : 'el-icon-arrow-right'"></i>
          <span>{{ codeExpanded.scene8 ? 'æ”¶èµ·ä»£ç ' : 'å±•å¼€ä»£ç ' }}</span>
        </div>
        <pre v-show="codeExpanded.scene8"><code>{{ realWorldFormExample }}</code></pre>
      </div>
    </div>

    <h2>API æ–‡æ¡£</h2>

    <h3>Props</h3>
    <table class="table-props">
      <thead>
        <tr>
          <th>å‚æ•°</th>
          <th>è¯´æ˜</th>
          <th>ç±»å‹</th>
          <th>é»˜è®¤å€¼</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>formItemList</td>
          <td>è¡¨å•é¡¹é…ç½®æ•°ç»„</td>
          <td>Array</td>
          <td>[]</td>
        </tr>
        <tr>
          <td>model</td>
          <td>è¡¨å•æ•°æ®å¯¹è±¡</td>
          <td>Object</td>
          <td>{}</td>
        </tr>
        <tr>
          <td>layoutFormProps</td>
          <td>å¸ƒå±€é…ç½®</td>
          <td>Object</td>
          <td>{}</td>
        </tr>
        <tr>
          <td>configBtn</td>
          <td>æŒ‰é’®é…ç½®æ•°ç»„</td>
          <td>Array</td>
          <td>[]</td>
        </tr>
      </tbody>
    </table>

    <h3>FormItem é…ç½®</h3>
    <table class="table-props">
      <thead>
        <tr>
          <th>å‚æ•°</th>
          <th>è¯´æ˜</th>
          <th>ç±»å‹</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>prop</td>
          <td>å­—æ®µåï¼ˆæ”¯æŒå‡½æ•°åŠ¨æ€è¿”å›ï¼‰</td>
          <td>String/Function</td>
        </tr>
        <tr>
          <td>label</td>
          <td>æ ‡ç­¾æ–‡æœ¬</td>
          <td>String</td>
        </tr>
        <tr>
          <td>formtype</td>
          <td>æ§ä»¶ç±»å‹ï¼šInput/Select/Radio/Checkbox/Switch/DatePicker/TimePicker/Cascader/Rate/Upload</td>
          <td>String</td>
        </tr>
        <tr>
          <td>span</td>
          <td>æ …æ ¼å æ®åˆ—æ•°ï¼ˆ1-24ï¼‰</td>
          <td>Number</td>
        </tr>
        <tr>
          <td>attrs</td>
          <td>æ§ä»¶å±æ€§ï¼ˆæ”¯æŒ disabled ä¸ºå‡½æ•°ï¼‰</td>
          <td>Object</td>
        </tr>
        <tr>
          <td>formItemOptions</td>
          <td>è¡¨å•é¡¹é€‰é¡¹ï¼šlabelWidthã€rulesã€style ç­‰</td>
          <td>Object</td>
        </tr>
        <tr>
          <td>dataOptions</td>
          <td>é€‰é¡¹æ•°æ®ï¼ˆSelect/Radio/Checkboxï¼‰</td>
          <td>Array</td>
        </tr>
        <tr>
          <td>isHiden</td>
          <td>æ¡ä»¶æ˜¾ç¤ºå‡½æ•° (model) => Boolean</td>
          <td>Function</td>
        </tr>
        <tr>
          <td>render</td>
          <td>è‡ªå®šä¹‰æ¸²æŸ“å‡½æ•° (h, model, row) => VNode</td>
          <td>Function</td>
        </tr>
        <tr>
          <td>on</td>
          <td>äº‹ä»¶ç›‘å¬ï¼šchangeã€inputã€enter ç­‰</td>
          <td>Object</td>
        </tr>
      </tbody>
    </table>

    <h3>LayoutFormProps é…ç½®</h3>
    <table class="table-props">
      <thead>
        <tr>
          <th>å‚æ•°</th>
          <th>è¯´æ˜</th>
          <th>ç±»å‹</th>
          <th>é»˜è®¤å€¼</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>fromLayProps.labelWidth</td>
          <td>æ ‡ç­¾å®½åº¦</td>
          <td>String</td>
          <td>'100px'</td>
        </tr>
        <tr>
          <td>fromLayProps.size</td>
          <td>æ§ä»¶å°ºå¯¸ï¼šlarge/medium/small/mini</td>
          <td>String</td>
          <td>'mini'</td>
        </tr>
        <tr>
          <td>fromLayProps.minfoldRows</td>
          <td>è¶…è¿‡å¤šå°‘è¡ŒæŠ˜å </td>
          <td>Number</td>
          <td>0ï¼ˆä¸æŠ˜å ï¼‰</td>
        </tr>
        <tr>
          <td>fromLayProps.isBtnHiden</td>
          <td>æ˜¯å¦éšè—æŒ‰é’®</td>
          <td>Boolean</td>
          <td>false</td>
        </tr>
        <tr>
          <td>fromLayProps.rules</td>
          <td>è¡¨å•éªŒè¯è§„åˆ™</td>
          <td>Object</td>
          <td>{}</td>
        </tr>
        <tr>
          <td>rowLayProps.gutter</td>
          <td>æ …æ ¼é—´è·</td>
          <td>Number</td>
          <td>10</td>
        </tr>
      </tbody>
    </table>

    <h3>Methods</h3>
    <table class="table-props">
      <thead>
        <tr>
          <th>æ–¹æ³•å</th>
          <th>è¯´æ˜</th>
          <th>å‚æ•°</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>validate</td>
          <td>è¡¨å•éªŒè¯</td>
          <td>(callback) => void</td>
        </tr>
        <tr>
          <td>resetFields</td>
          <td>é‡ç½®è¡¨å•</td>
          <td>-</td>
        </tr>
        <tr>
          <td>clearValidate</td>
          <td>æ¸…é™¤éªŒè¯çŠ¶æ€</td>
          <td>-</td>
        </tr>
      </tbody>
    </table>

    <h2>å¼€å‘è§„èŒƒä¸æŠ€å·§</h2>

    <div class="tips-box tips-box--info">
      <h4>ğŸ“‹ è¡¨å•å¼€å‘è§„èŒƒ</h4>
      <ol>
        <li><strong>å­—æ®µå‘½å</strong>ï¼šä½¿ç”¨é©¼å³°å‘½åï¼Œå¦‚ <code>policyTitle</code>ã€<code>effectiveTimeRange</code></li>
        <li><strong>æ—¥æœŸèŒƒå›´</strong>ï¼šç»Ÿä¸€ä½¿ç”¨æ•°ç»„æ ¼å¼ï¼Œå¦‚ <code>effectiveTimeRange: ['', '']</code></li>
        <li><strong>åŠ¨æ€ç¦ç”¨</strong>ï¼šä½¿ç”¨å‡½æ•°å½¢å¼ <code>disabled: () => this.isDisabled</code></li>
        <li><strong>åŠ¨æ€è§„åˆ™</strong>ï¼šé€šè¿‡ key å¼ºåˆ¶åˆ·æ–°è¡¨å• <code>:key="ruleKey"</code></li>
        <li><strong>éªŒè¯è§„åˆ™</strong>ï¼šåœ¨ <code>formItemOptions.rules</code> ä¸­å®šä¹‰ï¼Œæ”¯æŒ required/pattern/validator</li>
        <li><strong>æ€§èƒ½ä¼˜åŒ–</strong>ï¼šå¤æ‚è¡¨å•ä½¿ç”¨ <code>isHiden</code> æ›¿ä»£ v-ifï¼Œé¿å…é¢‘ç¹é‡å»ºç»„ä»¶</li>
      </ol>
    </div>

    <div class="tips-box tips-box--success">
      <h4>ğŸš€ å¼€å‘æ•ˆç‡æŠ€å·§</h4>
      <ul>
        <li><strong>å¿«é€Ÿåˆ›å»ºè¡¨å•</strong>ï¼šå¤åˆ¶å·²æœ‰é…ç½®ï¼Œä¿®æ”¹å­—æ®µåå³å¯</li>
        <li><strong>ç»Ÿä¸€é…ç½®</strong>ï¼šå°†å¸¸ç”¨ attrsï¼ˆå¦‚ clearableã€sizeï¼‰æå–ä¸ºå¸¸é‡</li>
        <li><strong>IDE ä»£ç ç‰‡æ®µ</strong>ï¼šé…ç½®è¡¨å•å­—æ®µä»£ç ç‰‡æ®µï¼Œä¸€é”®ç”Ÿæˆé…ç½®æ¨¡æ¿</li>
        <li><strong>ç±»å‹æç¤º</strong>ï¼šä½¿ç”¨ JSDoc æ³¨é‡Šæ ‡è®°å­—æ®µç±»å‹ï¼Œè·å¾— IDE æç¤º</li>
      </ul>
    </div>
  </div>
</template>

<script>
import {
  basicExample,
  controlsExample,
  layoutExample,
  validationExample,
  dynamicFieldExample,
  customRenderExample,
  dynamicRuleExample,
  realWorldFormExample
} from './examples/esFormExamples'

export default {
  name: 'EsFormDocs',
  data() {
    return {
      // åŸºç¡€ç¤ºä¾‹
      basicFormData: { name: '', age: '', email: '' },
      basicFormConfig: [
        { prop: 'name', label: 'å§“å', formtype: 'Input', attrs: { placeholder: 'è¯·è¾“å…¥å§“å' } },
        { prop: 'age', label: 'å¹´é¾„', formtype: 'Input', attrs: { placeholder: 'è¯·è¾“å…¥å¹´é¾„' } },
        { prop: 'email', label: 'é‚®ç®±', formtype: 'Input', attrs: { placeholder: 'è¯·è¾“å…¥é‚®ç®±' } }
      ],

      // æ§ä»¶ç¤ºä¾‹
      controlsFormData: {
        name: '',
        gender: '',
        hobby: [],
        status: true,
        city: '',
        date: '',
        rate: 3,
        content: ''
      },
      controlsFormConfig: [
        { prop: 'name', label: 'è¾“å…¥æ¡†', span: 8, formtype: 'Input', attrs: { placeholder: 'è¯·è¾“å…¥' } },
        { prop: 'gender', label: 'å•é€‰æ¡†', span: 8, formtype: 'Radio', dataOptions: [{ label: 'ç”·', value: 'male' }, { label: 'å¥³', value: 'female' }] },
        { prop: 'city', label: 'ä¸‹æ‹‰é€‰æ‹©', span: 8, formtype: 'Select', attrs: { placeholder: 'è¯·é€‰æ‹©' }, dataOptions: [{ label: 'åŒ—äº¬', value: 'bj' }, { label: 'ä¸Šæµ·', value: 'sh' }] },
        { prop: 'hobby', label: 'å¤é€‰æ¡†', span: 12, formtype: 'Checkbox', dataOptions: [{ label: 'é˜…è¯»', value: 'read' }, { label: 'è¿åŠ¨', value: 'sport' }, { label: 'éŸ³ä¹', value: 'music' }] },
        { prop: 'status', label: 'å¼€å…³', span: 12, formtype: 'Switch', attrs: { activeText: 'å¯ç”¨', inactiveText: 'ç¦ç”¨' } },
        { prop: 'date', label: 'æ—¥æœŸæ—¶é—´', span: 12, formtype: 'datePicker', attrs: { type: 'datetime', valueFormat: 'yyyy-MM-dd HH:mm:ss', placeholder: 'é€‰æ‹©æ—¥æœŸæ—¶é—´' } },
        { prop: 'rate', label: 'è¯„åˆ†', span: 12, formtype: 'Rate', attrs: { max: 5 } }
      ],
      controlsLayoutProps: {
        fromLayProps: { labelWidth: '100px', size: 'small' },
        rowLayProps: { gutter: 20 }
      },

      // å¸ƒå±€ç¤ºä¾‹
      layoutFormData: { field1: '', field2: '', field3: '', field4: '', field5: '', field6: '' },
      layoutFormConfig: [
        { prop: 'field1', label: 'å­—æ®µ1', span: 8, formtype: 'Input', attrs: { placeholder: 'span=8 å æ®1/3è¡Œ' } },
        { prop: 'field2', label: 'å­—æ®µ2', span: 8, formtype: 'Input', attrs: { placeholder: 'span=8 å æ®1/3è¡Œ' } },
        { prop: 'field3', label: 'å­—æ®µ3', span: 8, formtype: 'Input', attrs: { placeholder: 'span=8 å æ®1/3è¡Œ' } },
        { prop: 'field4', label: 'å­—æ®µ4', span: 12, formtype: 'Input', attrs: { placeholder: 'span=12 å æ®åŠè¡Œ' } },
        { prop: 'field5', label: 'å­—æ®µ5', span: 12, formtype: 'Input', attrs: { placeholder: 'span=12 å æ®åŠè¡Œ' } },
        { prop: 'field6', label: 'å­—æ®µ6ï¼ˆè¢«æŠ˜å ï¼‰', span: 8, formtype: 'Input', attrs: { placeholder: 'è¶…è¿‡minfoldRowsæŠ˜å ' } }
      ],
      layoutProps: {
        fromLayProps: { labelWidth: '120px', size: 'small', minfoldRows: 2 },
        rowLayProps: { gutter: 20 }
      },

      // éªŒè¯ç¤ºä¾‹
      validateFormData: { username: '', email: '', phone: '', password: '', confirmPassword: '' },
      validateFormConfig: [
        {
          prop: 'username',
          label: 'ç”¨æˆ·å',
          span: 12,
          formtype: 'Input',
          formItemOptions: {
            rules: [
              { required: true, message: 'è¯·è¾“å…¥ç”¨æˆ·å', trigger: 'blur' },
              { min: 3, max: 20, message: 'é•¿åº¦åœ¨ 3 åˆ° 20 ä¸ªå­—ç¬¦', trigger: 'blur' }
            ]
          },
          attrs: { placeholder: '3-20ä¸ªå­—ç¬¦' }
        },
        {
          prop: 'email',
          label: 'é‚®ç®±',
          span: 12,
          formtype: 'Input',
          formItemOptions: {
            rules: [
              { required: true, message: 'è¯·è¾“å…¥é‚®ç®±', trigger: 'blur' },
              { type: 'email', message: 'è¯·è¾“å…¥æ­£ç¡®çš„é‚®ç®±åœ°å€', trigger: 'blur' }
            ]
          },
          attrs: { placeholder: 'example@email.com' }
        },
        {
          prop: 'phone',
          label: 'æ‰‹æœºå·',
          span: 12,
          formtype: 'Input',
          formItemOptions: {
            rules: [
              { required: true, message: 'è¯·è¾“å…¥æ‰‹æœºå·', trigger: 'blur' },
              { pattern: /^1[3-9]\d{9}$/, message: 'è¯·è¾“å…¥æ­£ç¡®çš„æ‰‹æœºå·', trigger: 'blur' }
            ]
          },
          attrs: { placeholder: '11ä½æ‰‹æœºå·' }
        },
        {
          prop: 'password',
          label: 'å¯†ç ',
          span: 12,
          formtype: 'Input',
          formItemOptions: {
            rules: [
              { required: true, message: 'è¯·è¾“å…¥å¯†ç ', trigger: 'blur' },
              { min: 6, message: 'å¯†ç è‡³å°‘6ä½', trigger: 'blur' }
            ]
          },
          attrs: { type: 'password', placeholder: 'è‡³å°‘6ä½' }
        }
      ],
      validateConfigBtn: [
        {
          name: 'æäº¤',
          type: 'primary',
          onClick: (model, formRef) => {
            formRef.validate((valid) => {
              if (valid) {
                this.$message.success('éªŒè¯é€šè¿‡ï¼')
              } else {
                this.$message.error('è¯·æ£€æŸ¥è¡¨å•å¡«å†™')
              }
            })
          }
        },
        {
          name: 'é‡ç½®',
          onClick: (model, formRef) => {
            formRef.resetFields()
          }
        }
      ],

      // åŠ¨æ€å­—æ®µç¤ºä¾‹
      dynamicFormData: { userType: 'personal', companyName: '', businessLicense: '', personalName: '', idCard: '' },
      dynamicFormConfig: [
        {
          prop: 'userType',
          label: 'ç”¨æˆ·ç±»å‹',
          span: 24,
          formtype: 'Radio',
          dataOptions: [{ label: 'ä¸ªäººç”¨æˆ·', value: 'personal' }, { label: 'ä¼ä¸šç”¨æˆ·', value: 'company' }],
          on: { change: (val) => console.log('ç±»å‹åˆ‡æ¢:', val) }
        },
        {
          prop: 'companyName',
          label: 'å…¬å¸åç§°',
          span: 12,
          formtype: 'Input',
          attrs: { placeholder: 'è¯·è¾“å…¥å…¬å¸åç§°' },
          isHiden: (model) => model.userType !== 'company'
        },
        {
          prop: 'businessLicense',
          label: 'è¥ä¸šæ‰§ç…§',
          span: 12,
          formtype: 'Input',
          attrs: { placeholder: 'è¯·è¾“å…¥è¥ä¸šæ‰§ç…§å·' },
          isHiden: (model) => model.userType !== 'company'
        },
        {
          prop: 'personalName',
          label: 'ä¸ªäººå§“å',
          span: 12,
          formtype: 'Input',
          attrs: { placeholder: 'è¯·è¾“å…¥ä¸ªäººå§“å' },
          isHiden: (model) => model.userType !== 'personal'
        },
        {
          prop: 'idCard',
          label: 'èº«ä»½è¯å·',
          span: 12,
          formtype: 'Input',
          attrs: { placeholder: 'è¯·è¾“å…¥èº«ä»½è¯å·' },
          isHiden: (model) => model.userType !== 'personal'
        }
      ],

      // è‡ªå®šä¹‰æ¸²æŸ“ç¤ºä¾‹
      customRenderData: { title: '', content: '', themeColor: '#409eff', showTags: false, tags: [] },
      customRenderConfig: [
        { prop: 'title', label: 'æ ‡é¢˜', span: 24, formtype: 'Input', attrs: { placeholder: 'è¯·è¾“å…¥æ ‡é¢˜' } },
        {
          prop: 'content',
          label: 'å¯Œæ–‡æœ¬å†…å®¹',
          span: 24,
          render: (h, model, row) => {
            return h('div', {
              style: { border: '1px solid #dcdfe6', borderRadius: '4px', padding: '10px', minHeight: '100px' }
            }, [
              h('div', { style: { borderBottom: '1px solid #ebeef5', paddingBottom: '5px', marginBottom: '10px' } }, [
                h('el-button', { props: { size: 'mini' } }, 'B'),
                h('el-button', { props: { size: 'mini' } }, 'I'),
                h('el-button', { props: { size: 'mini' } }, 'U')
              ]),
              h('div', {
                attrs: { contenteditable: true },
                style: { minHeight: '60px', outline: 'none' },
                on: { input: (e) => { model[row.prop] = e.target.innerText } }
              }, model[row.prop] || '')
            ])
          }
        },
        {
          prop: 'themeColor',
          label: 'ä¸»é¢˜è‰²',
          span: 12,
          render: (h, model, row) => {
            const colors = ['#409eff', '#67c23a', '#e6a23c', '#f56c6c', '#909399']
            return h('div', { style: { display: 'flex', gap: '10px' } },
              colors.map(color => h('div', {
                style: {
                  width: '30px', height: '30px', borderRadius: '4px',
                  backgroundColor: color, cursor: 'pointer',
                  border: model[row.prop] === color ? '2px solid #000' : '1px solid #dcdfe6'
                },
                on: { click: () => { model[row.prop] = color } }
              }))
            )
          }
        },
        {
          prop: 'showTags',
          label: 'æ˜¾ç¤ºæ ‡ç­¾',
          span: 12,
          formtype: 'Switch',
          on: { change: () => { this.dynamicRuleKey = Date.now() } }
        }
      ],

      // åŠ¨æ€è§„åˆ™ç¤ºä¾‹
      dynamicRuleKey: 0,
      dynamicRuleData: { name: '', email: '', requireEmail: false },
      dynamicRuleConfig: [],

      // æ”¿ç­–è¡¨å•ç¤ºä¾‹
      policyFormData: {
        policyName: '',
        policyAbstract: '',
        effectiveTimeRange: '',
        invalidTimeRange: '',
        policyTag: '',
        ispolicyTag: 'always',
        policyStatus: '0',
        policyReleaseType: '1',
        policyReleaseDate: '',
        coverImage: '',
        policyLinkContent: '',
        policyEitorContent: '',
        policyContentType: '1'
      },
      policyFormConfig: [],
      policyLayoutProps: {
        fromLayProps: { isBtnHiden: true, labelWidth: '120px', size: 'small' },
        rowLayProps: { gutter: 20 }
      },

      // ä»£ç ç¤ºä¾‹
      basicExample,
      controlsExample,
      layoutExample,
      validationExample,
      dynamicFieldExample,
      customRenderExample,
      dynamicRuleExample,
      realWorldFormExample,

      // ä»£ç æŠ˜å çŠ¶æ€
      codeExpanded: {
        scene1: false,
        scene2: false,
        scene3: false,
        scene4: false,
        scene5: false,
        scene6: false,
        scene7: false,
        scene8: false
      }
    }
  },
  created() {
    // åŠ¨æ€è§„åˆ™é…ç½®
    this.dynamicRuleConfig = [
      { prop: 'name', label: 'å§“å', span: 12, formtype: 'Input', formItemOptions: { rules: [{ required: true, message: 'è¯·è¾“å…¥å§“å' }] } },
      { prop: 'requireEmail', label: 'éœ€è¦é‚®ç®±', span: 12, formtype: 'Switch' },
      {
        prop: 'email',
        label: 'é‚®ç®±',
        span: 12,
        formtype: 'Input',
        formItemOptions: {
          rules: this.dynamicRuleData.requireEmail
            ? [{ required: true, message: 'è¯·è¾“å…¥é‚®ç®±' }, { type: 'email', message: 'é‚®ç®±æ ¼å¼é”™è¯¯' }]
            : []
        },
        isHiden: () => !this.dynamicRuleData.requireEmail
      }
    ]

    // æ”¿ç­–è¡¨å•é…ç½®
    this.policyFormConfig = [
      {
        prop: 'policyName',
        label: 'æ”¿ç­–åç§°',
        span: 24,
        formtype: 'Input',
        formItemOptions: {
          labelWidth: '150px',
          style: { width: '65%' },
          rules: [{ required: true, message: 'æ”¿ç­–åç§°ä¸èƒ½ä¸ºç©º', trigger: 'blur' }]
        },
        attrs: { placeholder: 'è¯·è¾“å…¥æ”¿ç­–åç§°', clearable: true }
      },
      {
        prop: 'policyAbstract',
        label: 'æ‘˜è¦',
        span: 24,
        formtype: 'Input',
        formItemOptions: {
          labelWidth: '150px',
          style: { width: '65%' },
          rules: [{ required: true, message: 'æ‘˜è¦ä¸èƒ½ä¸ºç©º', trigger: 'blur' }]
        },
        attrs: { placeholder: 'è¯·è¾“å…¥æ”¿ç­–æ‘˜è¦', type: 'textarea', rows: 3 }
      },
      {
        label: 'æ”¿ç­–ç”Ÿæ•ˆæ—¶é—´',
        span: 24,
        formItemOptions: {
          labelWidth: '150px',
          style: { width: '65%' },
          rules: [{ required: true, message: 'æ”¿ç­–ç”Ÿæ•ˆæ—¶é—´ä¸èƒ½ä¸ºç©º', trigger: 'change' }]
        },
        prop: 'effectiveTimeRange',
        formtype: 'datePicker',
        attrs: {
          valueFormat: 'yyyy-MM-dd HH:mm:ss',
          type: 'datetime',
          placeholder: 'é€‰æ‹©æ—¥æœŸæ—¶é—´',
          style: 'width: 100%'
        }
      },
      {
        prop: 'policyTag',
        label: 'æ”¿ç­–æ ‡ç­¾',
        span: 24,
        formItemOptions: { labelWidth: '150px' },
        render: (h, model, row) => {
          return (
            <el-row gutter={20}>
              <el-col span={8} style="padding-left: 0;">
                <el-input v-model={model.policyTag} placeholder="è¯·è¾“å…¥æ”¿ç­–æ ‡ç­¾" />
              </el-col>
              <el-col span={10}>
                <el-radio-group v-model={model.ispolicyTag}>
                  <el-radio label="always">æ˜¾ç¤º</el-radio>
                  <el-radio label="hide">éšè—</el-radio>
                </el-radio-group>
              </el-col>
            </el-row>
          )
        }
      },
      {
        prop: 'policyStatus',
        label: 'æ–‡ç« çŠ¶æ€',
        span: 24,
        formItemOptions: {
          labelWidth: '150px',
          rules: [{ required: true, message: 'æ–‡ç« çŠ¶æ€ä¸èƒ½ä¸ºç©º', trigger: 'change' }]
        },
        formtype: 'Radio',
        attrs: { disabled: () => false },
        dataOptions: [{ label: 'è‰ç¨¿', value: '0' }, { label: 'ä¸Šæ¶', value: '1' }, { label: 'ä¸‹æ¶', value: '2' }]
      },
      {
        prop: 'policyReleaseType',
        label: 'å‘å¸ƒæ–¹å¼',
        span: 24,
        formItemOptions: { labelWidth: '150px' },
        render: (h, model, row) => {
          return (
            <el-row gutter={20}>
              {model.policyReleaseType === '1' && (
                <el-col span={8} style="padding-left: 0;">
                  <el-date-picker
                    v-model={model.policyReleaseDate}
                    value-format="yyyy-MM-dd HH:mm:ss"
                    type="datetime"
                    placeholder="é€‰æ‹©å‘å¸ƒæ—¥æœŸ"
                    style="width: 100%;"
                  />
                </el-col>
              )}
              <el-col span={10}>
                <el-radio-group v-model={model.policyReleaseType}>
                  <el-radio label="0">ç«‹å³å‘å¸ƒ</el-radio>
                  <el-radio label="1">å®šæ—¶å‘å¸ƒ</el-radio>
                </el-radio-group>
              </el-col>
            </el-row>
          )
        }
      }
    ]
  },
  methods: {
    // ===== ä»£ç æŠ˜å æ§åˆ¶ =====
    toggleCode(scene) {
      this.codeExpanded[scene] = !this.codeExpanded[scene]
    },
    expandAll() {
      Object.keys(this.codeExpanded).forEach(key => {
        this.codeExpanded[key] = true
      })
    },
    collapseAll() {
      Object.keys(this.codeExpanded).forEach(key => {
        this.codeExpanded[key] = false
      })
    }
  }
}
</script>

<style lang="scss">
.docs-container {
  padding: 20px;
  max-width: 1400px;
  margin: 0 auto;

  .docs-header {
    margin-bottom: 30px;

    .global-actions {
      margin-top: 15px;
      padding: 10px 0;
      border-bottom: 1px solid #e4e7ed;
    }
  }

  h1 {
    font-size: 32px;
    margin-bottom: 10px;
    color: #303133;
  }

  .component-desc {
    color: #606266;
    font-size: 16px;
    line-height: 1.6;
    margin-bottom: 30px;
    padding: 15px 20px;
    background: #f5f7fa;
    border-left: 4px solid #409eff;
    border-radius: 4px;
  }

  h2 {
    font-size: 24px;
    margin: 40px 0 15px;
    padding-bottom: 10px;
    border-bottom: 2px solid #409eff;
    color: #303133;
  }

  h3 {
    font-size: 18px;
    color: #303133;
    margin: 30px 0 15px;
    padding-left: 12px;
    border-left: 4px solid #67c23a;
  }

  h4 {
    font-size: 15px;
    color: #303133;
    margin: 20px 0 10px;
  }

  p {
    color: #606266;
    line-height: 1.8;
    margin-bottom: 15px;

    code {
      background: #f4f4f5;
      padding: 2px 8px;
      border-radius: 4px;
      font-family: 'Consolas', monospace;
      color: #e96900;
      font-size: 13px;
    }
  }

  .demo-block {
    border: 1px solid #ebeef5;
    border-radius: 8px;
    margin-bottom: 30px;
    overflow: hidden;
    box-shadow: 0 2px 12px 0 rgba(0, 0, 0, 0.05);

    &--full {
      .demo-block__body {
        min-height: 400px;
      }
    }

    &__header {
      padding: 15px 20px;
      background: #fafafa;
      border-bottom: 1px solid #ebeef5;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    &__title {
      font-size: 16px;
      font-weight: 500;
      color: #303133;
    }

    &__badge {
      font-size: 12px;
      padding: 2px 10px;
      border-radius: 12px;
      background: #409eff;
      color: #fff;
    }

    &__body {
      padding: 20px;
      background: #fff;
    }

    &__code {
      background: #f5f7fa;
      overflow-x: auto;

      .code-header {
        display: flex;
        align-items: center;
        padding: 10px 15px;
        background: #e4e7ed;
        cursor: pointer;
        user-select: none;
        transition: background 0.2s;
        border-bottom: 1px solid #dcdfe6;

        &:hover {
          background: #d0d3d9;
        }

        i {
          margin-right: 8px;
          font-size: 14px;
          color: #606266;
        }

        span {
          font-size: 13px;
          color: #606266;
        }
      }

      pre {
        margin: 0;
        padding: 15px 20px;
        font-family: 'Consolas', monospace;
        font-size: 13px;
        line-height: 1.6;
        color: #606266;
      }

      code {
        white-space: pre-wrap;
        word-wrap: break-word;
        background: transparent;
        color: #606266;
        padding: 0;
      }
    }
  }

  .tips-box {
    padding: 16px 20px;
    border-radius: 8px;
    margin: 20px 0;

    &--success {
      background: #f0f9eb;
      border: 1px solid #e1f3d8;
      h4 { color: #67c23a; }
    }

    &--warning {
      background: #fdf6ec;
      border: 1px solid #faecd8;
      h4 { color: #e6a23c; }
    }

    &--info {
      background: #f4f4f5;
      border: 1px solid #e9e9eb;
      h4 { color: #909399; }
    }

    h4 {
      margin: 0 0 10px 0;
      font-size: 15px;
    }

    ul, ol {
      margin: 0;
      padding-left: 20px;

      li {
        margin: 8px 0;
        color: #606266;
        line-height: 1.6;
      }
    }

    p {
      margin: 0;
      color: #606266;
    }
  }

  .table-props {
    width: 100%;
    border-collapse: collapse;
    margin: 20px 0;
    font-size: 14px;

    th, td {
      padding: 12px 16px;
      text-align: left;
      border: 1px solid #ebeef5;
    }

    th {
      background: #f5f7fa;
      font-weight: 600;
      color: #303133;
    }

    td {
      color: #606266;
    }

    code {
      background: #f4f4f5;
      padding: 2px 6px;
      border-radius: 3px;
      font-family: 'Consolas', monospace;
      color: #e96900;
      font-size: 12px;
    }

    tr:hover {
      background: #f5f7fa;
    }
  }
}
</style>
